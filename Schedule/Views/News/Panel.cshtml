@model Schedule.BLL.Model.NewsViewModel
@using Schedule.Helpers;

@{
    ViewBag.Title = "News Panel";
}

<hr />
<a class="btn btn-default" href="@Url.Action("Create", "News")">Add Article</a>
<hr />


<table class="table table-bordered">
    <thead style="font-weight: bold; font-size: 18px">
        <tr>
            <td style="width: 20px">@Html.ActionLink("Id", "Panel", new { sortOrder = ViewBag.IdSortParm })</td>
            <td style="width: 200px">Main Photo</td>
            <td>@Html.ActionLink("Title", "Panel", new { sortOrder = ViewBag.TitleSortParm })</td> 
            <td>Full article</td>
            <td style="width: 145px"></td>
        </tr>
    </thead>
    <tbody>

        @foreach (var item in Model.News)
        {
            <tr>
                <td>@item.Id</td>
                <td>
                    
                        <img src="data:image;base64,@System.Convert.ToBase64String(item.NewsImages.FirstOrDefault().ImageItem)" class="img-tests" />
                   
                </td>
                <td>@item.FullTitle</td>
                <td>@item.FullArticle</td>
                <td>
                    @Html.ActionLink("Edit", "Edit", new { Id = item.Id }, new { @class = "btn btn-info", id = "btn-edit" })
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id }, new { @class = "btn btn-danger", onclick = "return confirm('Are you sure you want to delete this article?');", id = "btn-delete" })
                </td>
            </tr>
        }

    </tbody>
</table>

<div class="btn-group">
    @Html.PageLinks(Model.PageInfo, x => Url.Action("Panel", new { page = x }))
</div>

