@model Schedule.BLL.Model.NewsViewModelItem
@{
    ViewBag.Title = "Edit";
}


<h2>Edit</h2>

@using (Html.BeginForm("Edit", "News", FormMethod.Post))
{
    <br />
    <h4>Short Title</h4>
    @Html.TextBox("ShortTitle", (string)Model.ShortTitle, new { @class = "form-control", required = "required" })
    <br />
    <h4>Full Title</h4>
    @Html.TextBox("FullTitle", (string)Model.FullTitle, new { @class = "form-control", required = "required" })
    <br />
    <h4>Images</h4>
    @Html.TextBox("NewsImages", Model.NewsImages, new { type = "file", name = "uploadImage", multiple = "true", @class = "btn btn-info" })
    <div id="ImgPrew">
        @foreach (var img in Model.NewsImages)
        {
            <img src="data:image;base64,@System.Convert.ToBase64String(img.ImageItem)" class="img-tests" />
        }
    </div>
    <br />
    <h4>Short Article</h4>
    @Html.TextArea("ShortArticle", (string)Model.ShortArticle, 20, 0, new { @class = "form-control", required = "required" })
    <br />
    <h4>Full Article</h4>
    @Html.TextArea("FullArticle", (string)Model.FullArticle, 20, 0, new { @class = "form-control", required = "required" })
    <br />
    <br />
    <input type="submit" value="Save" class="btn btn-success" id="btn-save" />
    @Html.ActionLink("Back to all items", "Panel", null, new { @class = "btn btn-danger", id = "btn-back" })

}

<script type="text/javascript" src="~/Scripts/Custom/isDirty.js"></script>